
<launch>

  <arg name="map_filename" value="map1.yaml" />
  <arg name="map_dir" default="$(find data)/map/tc/" />

  <arg name="robot" value="ter2" />
  <arg name="mgr" value="pc_nodelet_mgr" />

  <include file="$(find scripts)/includes/common_param_loader.launch.xml" >
    <arg name="robot" value="$(arg robot)" />
  </include>

  <include file="$(find scripts)/includes/$(arg mgr).launch.xml" >
    <arg name="robot" value="$(arg robot)" />
  </include>  

  <include file="$(find scripts)/includes/ypspur_ros.launch.xml" >
    <arg name="robot" value="$(arg robot)" />
    <arg name="cmd_vel" value="/move_base/cmd_vel" />    
  </include>

  <include file="$(find scripts)/includes/imu_arduino.launch.xml">
    <arg name="robot" value="$(arg robot)" />
  </include>  

  <include file="$(find scripts)/includes/odometry.launch.xml" >
    <arg name="robot" value="$(arg robot)" />
  </include>

  <include file="$(find scripts)/includes/urg_node_tf.launch.xml" >
    <arg name="robot" value="$(arg robot)" />    
  </include>

  <include file="$(find scripts)/includes/urg_node.launch.xml" >
    <arg name="robot" value="$(arg robot)" />
  </include>  

  <include file="$(find scripts)/includes/map_server.launch.xml" >
    <arg name="robot" value="$(arg robot)" />  
    <arg name="map_path" value="$(arg map_dir)$(arg map_filename)" />
  </include>


  <include file="$(find scripts)/includes/amcl.launch.xml" >
    <arg name="robot" value="$(arg robot)" />
    <arg name="init_x" value=0.3 />
    <arg name="init_y" value=2.6 />
    <arg name="init_a" value=0.0 />
  </include>

  <include file="$(find scripts)/includes/move_base.launch.xml" >
    <arg name="robot" value="$(arg robot)" />
  </include>

  <node pkg="rviz" type="rviz" name="rviz" args="-d $(find configs)/rviz/amcl_simulation.rviz" />

</launch>
