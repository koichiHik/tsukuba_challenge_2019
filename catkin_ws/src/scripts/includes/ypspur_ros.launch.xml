<launch>

  <arg name="robot" default="" />

  <node pkg="ypspur_ros" type="ypspur_ros" name="ypspur" output="screen">

    <!-- YpSpur Configuration Parameters -->
    <param name="~/compatible"          value="1" />
    <param name="~/port"                value="/dev/TFROG_DRIVER" />
    <param name="~/ypspur_bin"          value="$(find scripts)/../../../../3rdParty/yp-spur/install/bin/ypspur-coordinator" />
    <param name="~/param_file"          value="$(find configs)/control/$(arg robot)_yp_spur.param" />

    <!-- YpSpur Topic Related Parameters -->
    <param name="~/hz"                  value="200.0" />
    <param name="~/max_joint_id"        value="2" />
    <param name="~/joint0_enable"       value="true" />
    <param name="~/joint0_name"         value="right" />
    <param name="~/joint1_enable"       value="true" />
    <param name="~/joint1_name"         value="left" />

    <!-- YpSpur Odom Related Parameters -->
    <remap from="odom" to="odom_ypspur" />
    <param name="~/odom_id"             value="odom_ypspur" />
    <param name="~/base_link_id"        value="base_link_dummy" />
    <param name="~/odometry_mode"       value="diff" />    

    <!-- YpSpur Control Limitation Parameters -->
    <remap from="~/vel"                 to="max_vel_x" />
    <remap from="~/acc"                 to="max_acc_x" />
    <remap from="~/angvel"              to="max_vel_theta" />
    <remap from="~/angacc"              to="max_acc_theta" />

  </node>

</launch>
